<template name='products'>
  <div class="row">
    {{#each products}}
      {{> productItem}}
    {{/each}}
  </div>
</template>

<template name="productItem">
  <div class="col s12 m6 l4 xl3">
    <div class="card z-depth-2 hoverable">
      <div class="card-image">
        <a href="/products/{{_id}}"><img src="{{imageURL}}"></a>
        {{#if outofStock}}
        <a id="addtoCartButton" class="disabled btn-floating btn-large halfway-fab waves-effect waves-light red"><i class="material-icons">add_shopping_cart</i></a>
        {{else}}
        <a id="addtoCartButton" class="btn-floating btn-large halfway-fab waves-effect waves-light blue"><i class="material-icons">add_shopping_cart</i></a>
        {{/if}}

      </div>
      <div class="card-content">
      <span class="card-title">{{name}}</span>
        <p>${{price}} AUD</p>
        {{#if outofStock}}
        <p class="red-text">Out of stock!</p>
        {{/if}}
      </div>
    </div>
  </div>
</template>
