<template name='products'>
  <div class="row">
    {{#each products}}
      {{> productItem}}
    {{/each}}
  </div>
</template>

<template name="productItem">
  <div class="col s12 m6 l4 xl3">
    <div class="card medium hoverable">
      <div class="card-image">
        <a href="/products/{{_id}}"><img  id="card-image" src="{{imageURL}}"></a>
      </div>

      <div class="card-fab">
        {{#if outofStock}}
        <a id="addtoCartButton" class="disabled btn-floating btn-large halfway-fab waves-effect waves-light red"><i class="material-icons">add_shopping_cart</i></a>
        {{else}}
        <a id="addtoCartButton" class="btn-floating btn-large halfway-fab waves-effect waves-light blue"><i class="material-icons">add_shopping_cart</i></a>
        {{/if}}
      </div>

      <div class="card-content">
        <p class="card-title tooltipped" data-position="bottom" data-tooltip="{{name}}">{{name}}</p>
      </div>

      <div class="card-action">
        <p class="green-text"><b>${{price}} AUD</b>
        {{#if outofStock}}
        <span class="red-text right">Out of stock!</span>
        {{/if}}
        </p>
      </div>

    </div>
  </div>
</template>
