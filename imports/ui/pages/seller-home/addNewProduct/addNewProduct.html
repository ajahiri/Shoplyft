<template name="addNewProduct">
  {{> navigation}}
  <main>
    <div class="container">
      <h2>Add New Product</h2>
      <div class="row">
        <form id="addProductForm" class="col s12">
          <div class="row">
            <h4>Product Details:</h4>
            <div class="input-field col s12">
              <input id="item_name" type="text" class="validate">
              <label for="item_name">Product Name</label>
            </div>
            {{#unless uploadStatus}}
              {{> uploadForm}}
            {{else}}
              <p> Image uploaded successfully.</p>
            {{/unless}}
            <div class="input-field col s12 m6">
              <input id="item_stock" type="number" class="validate">
              <label for="item_stock">Stock</label>
            </div>
            <div class="input-field col s12 m6">
              <select id="categorySelector">
                <option value="" disabled selected>Choose category</option>
                <option value="Peripherals">Peripherals</option>
                <option value="Monitors">Monitors</option>
                <option value="Power Supplies">Power Supplies</option>
                <option value="Processors">Processors</option>
                <option value="Memory">Memory</option>
                <option value="Graphic Cards">Graphic Cards</option>
                <option value="Motherboards">Motherboards</option>
                <option value="Speakers">Speakers</option>
                <option value="Laptops">Laptops</option>
                <option value="Desktops">Desktops</option>
                <option value="Miscellaneous">Miscellaneous</option>
              </select>
              <label>Category</label>
            </div>
            <div class="input-field col s12 m6">
              <input id="item_price" type="text" class="validate">
              <label for="item_price">Price</label>
            </div>
            <div class="input-field col s12 m6">
              <label>
                <input type="checkbox" id="promoCheck" class="filled-in" />
                <span>Add to Promotional product list?</span>
              </label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <textarea id="item_description" class="materialize-textarea" data-length="1000"></textarea>
              <label for="item_description">Product Description</label>
            </div>
          </div>
          <div class="row">
            <button class="btn waves-effect waves-light" type="submit" name="action">Add Product
              <i class="material-icons right">send</i>
            </button>
          </div>
          {{#if uploadStatus}}
            {{> previewImage}}
          {{/if}}

        </form>
      </div>
    </div>
  </main>
  {{> footer}}
</template>

<template name="previewImage">
  <div class="row">
    <div class="col s12 center">
      <b>Image Preview:</b>
      <img id="imagePreview" class="materialboxed center" src="{{uploadPreview}}" alt="">
    </div>
  </div>
</template>

<template name="uploadForm">
  <div class="input-field col s12 m12">
    {{#with currentUpload}}
      Uploading <b>{{file.name}}</b>:
      <div class="progress">
          <div class="determinate" style="width: {{progress.get}}%"></div>
      </div>
    {{else}}
      <input id="fileInput" type="file" />
    {{/with}}
  </div>
</template>
